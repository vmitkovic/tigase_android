<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:padding="5px" >

    <ImageView
        android:id="@+id/msgStatus"
        android:layout_width="48px"
        android:layout_height="48px"
        android:layout_alignBottom="@+id/user_avatar"
        android:layout_alignRight="@+id/chat_item_timestamp"
        android:layout_below="@+id/chat_item_timestamp"
        android:padding="@dimen/chat_item_layout_item_padding"
        android:src="@drawable/message_not_sent" >
    </ImageView>

    <ImageView
        android:id="@+id/user_avatar"
        android:layout_width="@dimen/chat_item_layout_item_avatar_size"
        android:layout_height="@dimen/chat_item_layout_item_avatar_size"
        android:padding="@dimen/chat_item_layout_item_padding"        
        android:src="@drawable/user_avatar" >
    </ImageView>

    <TextView
        android:id="@+id/chat_item_timestamp"
        android:textSize="@dimen/chat_item_layout_item_timestamp_text_size"
        android:text="yesterday, 10:30pm"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true"        
        android:padding="@dimen/chat_item_layout_item_padding"        
        android:layout_alignRight="@+id/chat_item_body" >
    </TextView>

    <!--
		android:layout_alignParentTop="true" 
		android:layout_alignBottom="@+id/user_avatar"
    -->

    <TextView
        android:id="@+id/chat_item_body"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/chat_item_nickname"
        android:layout_toRightOf="@+id/user_avatar"
        android:autoLink="all"
        android:textSize="@dimen/chat_item_layout_item_text_size"        
        android:text="Example long message to see paddings and wrapping Example long message to see paddings and wrapping Example long message to see paddings and wrapping"
        android:padding="@dimen/chat_item_layout_item_padding" >
    </TextView>

    <TextView
        android:id="@+id/chat_item_nickname"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_toRightOf="@+id/user_avatar"
        android:padding="@dimen/chat_item_layout_item_padding"        
        android:text="Andrzej"
        android:textSize="@dimen/chat_item_layout_item_text_size"
        android:textStyle="bold" >
    </TextView>

</RelativeLayout>